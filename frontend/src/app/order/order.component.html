<h1 class="mt-5 mb-5 ms-3" style="padding-top: 50px;">Rendelés összegzése</h1>

<!--@if (cartItems.length > 0) {
    <div class="row cart-header fw-bold mb-2 ">
        <div class="col-md-3 text-center"><strong>Kép</strong></div>
        <div class="col-md-5"><strong>Termék</strong></div>
        <div class="col-md-2 text-center"><strong>Mennyiség</strong></div>
        <div class="col-md-2 text-end"><strong>Ár</strong></div>
    </div>
}--> <!--FELSŐ FEJLÉCSOR RESZPONZIVITÁS MEGOLDÁSA MACERÁS LENNE-->

@for(cartItem of cartItems; track cartItem;){
    <div class="row cart-item mb-3">
        <div class="col-md-3">
            <img [src]="cartItem.image" class="card-img-top w-50" alt="...">
        </div>
        <div class="col-md-5 ms-3">
            <h5 class="card-title">{{cartItem.name}}</h5>
            <p class="text-muted">{{cartItem.category}}</p>
        </div>
        <div class="col-md-2 d-grid justify-items-center ms-3">

            <div class="input-group">
                <span class="quantity">
                    <i class="bi bi-cart-fill"></i> {{cartItem.quantity}}
                </span>
            </div>

        </div>
        <div class="col-md-2 text-end">
            <p class="fw-bold">€{{cartItem.price * cartItem.quantity}}</p>
        </div>
    </div>
<hr>
}

<div class="card cart-summary">
    <div class="card-body">
        <h5 class="card-title mb-4">Rendelés összefoglalás</h5>
        <div class="d-flex justify-content-between mb-3">
            <span>Összesen</span>
            <span>€{{overAmount}}</span>
        </div>
        <div class="d-flex justify-content-between mb-3">
            <span>Szállítás</span>
            <span>€10.00</span>
        </div>
        <div class="d-flex justify-content-between mb-3">
            <span>Kedvezmény</span>
            <span>- €10.00</span>
        </div>
        <hr>
        <div class="d-flex justify-content-between mb-4">
            <strong>Összesen</strong>
            <strong>€{{overAmount}}</strong>
        </div>
        @if(!orderExist){
            <button class="btn btn-primary w-100" (click)="takeOrder()">RENDELÉS LEADÁSA</button>
        }


        <div class="mt-3">
            <h1 [ngClass]="{'successfull-card': showSuccessfullCard}">
                <strong [innerHTML]="successfullMessageFromBackend" id="successfullMessageFromBackend" class="mt-2"></strong>
            </h1>
            
            <h1>
                <strong [innerHTML]="errorMessageFromBackend" id="errorMessageFromBackend" class="mt-2"></strong>
            </h1>
        </div>
        

        @if(showGoToProfil){
            <div>
                <button class="btn btn-warning" (click)="goToProfile()">Tovább az adatataim kitöltésére</button>
            </div>
        }

        

    </div>
</div>